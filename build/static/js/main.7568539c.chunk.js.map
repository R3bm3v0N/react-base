{"version":3,"sources":["app/configs/prod.ts","app/pages/404/index.less","app/index.less","app/layouts/Basic.tsx","app/components/Route.tsx","app/pages/Login/redux/types.ts","app/pages/Login/redux/actions.ts","app/pages/Login/connect.ts","app/pages/Login/components/LoginForm/connect.ts","app/pages/Login/components/LoginForm/index.tsx","app/pages/Login/index.tsx","app/configs/index.ts","app/services/http.ts","app/services/license.ts","app/services/user.ts","app/services/device.ts","app/services/index.ts","app/pages/License/redux/types.ts","app/pages/License/redux/actions.ts","app/pages/License/connect.ts","app/pages/License/components/SearchForm.tsx","app/pages/License/components/AddNewForm.tsx","app/pages/License/index.tsx","app/pages/404/index.tsx","app/layouts/Minimal.tsx","app/pages/Login/redux/reducers.ts","app/pages/License/redux/reducers.ts","app/rootReducer.ts","app/pages/Login/redux/epics.ts","app/pages/License/redux/epics.ts","app/utils/epicUtils.ts","app/rootEpic.ts","app/store.ts","app/index.tsx","index.tsx"],"names":["__webpack_require__","r","__webpack_exports__","debug","apiBaseURL","module","exports","p","Header","Content","Sider","BasicLayout","state","collapsed","toggle","_this","setState","react","layout","width","trigger","collapsible","this","className","menu","theme","mode","defaultSelectedKeys","Item","key","icon","type","style","background","padding","onClick","breadcrumb","margin","minHeight","props","children","React","AppRoute","_ref","_ref$layout","Layout","DefaultLayout","Component","component","store","_ref$permissions","permissions","rest","Object","objectWithoutProperties","jwt","getState","session","Cookies","get","console","log","granted","length","react_router","assign","render","to","pathname","from","location","LOGIN","concat","login","createActionCreator","types","resolve","username","password","loginSuccess","payload","loginError","connect","ownProps","loggedIn","dispatch","bindActionCreators","actions","loginPending","page","status","error","userActions","NormalLoginForm","handleSubmit","e","preventDefault","form","validateFields","err","values","getFieldDecorator","_this$props","es_form","onSubmit","es_alert","message","code","typography","Text","marginBottom","showIcon","rules","required","input","disabled","prefix","color","placeholder","Password","valuePropName","initialValue","es_checkbox","es_button","loading","htmlType","create","name","row","col","span","offset","LoginForm","merge","require","process","configs","localStorage","axios","baseURL","timeout","headers","Authentication","fetch","asyncToGenerator","regenerator_default","a","mark","_callee","filters","response","wrap","_context","prev","next","http","qs","addQueryPrefix","sent","abrupt","data","stop","_x","apply","arguments","generate","_ref2","_callee2","_context2","post","_x2","insert","_ref3","_callee3","_context3","_x3","email","search","keyword","params","limit","checkEmail","_x4","services","license","user","device","FETCH","INSERT","fetchSuccess","fetchError","insertSuccess","insertError","defaultState","undefined","dateFrom","dateTo","enabled","SearchForm","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleSearch","handleFilterOnChangeName","value","target","triggerFilter","handleFilterOnChangeDateFrom","format","handleFilterOnChangeDateTo","handleFilterOnChangeType","handleFilterOnChangeEnable","onFilterChangePrepare","triggerFilterNow","onFilterChange","handleReset","resetFields","triggerOnChange","debounce","isDefaultFilter","JSON","stringify","onChange","suffix","date_picker","display","textAlign","es_radio","Group","Button","marginLeft","components_SearchForm","RangePicker","AddNewForm","_React$Component","_temp","newKeyPending","customers","customerId","customerSearchPending","customerEmailDataSource","customerEmailValidateStatus","customerEmailValidateError","handleGenerateNewKey","newKey","api","setFieldsValue","t0","handleLoadCustomer","handleCustomerChange","handleChangeCustomerEmail","indexOf","checkCustomerEmail","exists","inherits","createClass","insertPending","options","map","d","es_select","Option","id","push","marginRight","ref","label","readOnly","tooltip","title","spin","showSearch","allowClear","defaultActiveFirstOption","filterOption","onSearch","notFoundContent","borderRadius","hasFeedback","validateStatus","help","auto_complete","dataSource","input_number","min","max","labelAlign","es_switch","defaultChecked","CopyToClipboard","modal","visible","table","meta","current","total","size","sort","column","direction","fetching","expandedRowKeys","Set","fetchingRowKeys","visibleRowKeys","fetchTableData","update","$set","objectSpread","handleCopy","record","dataIndex","text","has","minWidth","repeat","slice","shape","handleToggleKeyVisible","onCopy","success","moment","tag","1","2","device_count","handleExpand","popconfirm","okText","cancelText","onConfirm","checked","oldExpands","idx","add","devices","license_key","findIndex","v","defineProperty","oldVisibles","showModal","hideModal","addNewForm","handleCreate","handleTableChange","pagination","sorter","pageSize","handleOnFilterChangePrepare","handleOnFilterChange","handleOnPageChange","renderDevicesSkeleton","skeleton","active","paragraph","rows","float","prevProps","_this2","_this$state","rowKeys","Array","_table$meta$page","es_table","position","showSizeChanger","pageSizeOptions","showTotal","range","join","onShowSizeChange","rowKey","columns","expandIconAsCell","expandIcon","expandedRowRender","list","renderItem","item","info","created_at","es_modal","onCancel","onOk","confirmLoading","cancelButtonProps","closable","maskClosable","components_AddNewForm","NotFound","handleOnClick","src","alt","react_router_dom","MinimalLayout","createReducer","handleAction","action","sessionDefaultState","userDisplayName","sessionReducer","set","path","httpOnly","combineReducers","epics","redux_epics","_$concat$$concat","loadEpics","loadedEpic","keys","actionType","action$","pipe","ofType","mergeMap","json","catchError","of","combineEpics","toConsumableArray","epicUtil","loginEpics","licenseEpics","epicMiddleware","createEpicMiddleware","createStore","rootReducer","applyMiddleware","logger","filter","run","rootEpic","App","es","locale_provider","locale","jaJP","Route","exact","LicensePage","LoginPage","NotFoundPage","src_app","document","getElementById"],"mappings":"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","file":"static/js/main.7568539c.chunk.js","sourcesContent":["export default {\r\n  debug: false,\r\n  apiBaseURL: 'https://e-msg.biz:8087'\r\n}","module.exports = __webpack_public_path__ + \"static/media/index.8f7fb547.less\";","module.exports = __webpack_public_path__ + \"static/media/index.89f9552a.less\";","import * as React from \"react\";\r\nimport { Layout, Menu, Breadcrumb, Icon } from 'antd';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\n// interface Props {\r\n// }\r\n\r\nclass BasicLayout extends React.Component<any, any> {\r\n  state = {\r\n    collapsed: false,\r\n  };\r\n\r\n  toggle = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <Sider width={200} trigger={null} collapsible collapsed={this.state.collapsed}>\r\n            <div className=\"logo\">\r\n              {/* <img src=\"https://via.placeholder.com/150x50\"/> */}\r\n            </div>\r\n\r\n            <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['1']}>\r\n              <Menu.Item key=\"1\">\r\n                <Icon type=\"key\" />\r\n                <span>ライセンス管理</span>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"2\">\r\n                <Icon type=\"setting\" />\r\n                <span>設定</span>\r\n              </Menu.Item>\r\n            </Menu>\r\n          </Sider>\r\n        \r\n        <Layout>\r\n          <Header style={{ background: '#fff', padding: 0 }}>\r\n            <Icon\r\n              className=\"trigger\"\r\n              type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\r\n              onClick={this.toggle}\r\n            />\r\n          </Header>\r\n          <Layout style={{ padding: '0 24px 24px' }}>\r\n            <Breadcrumb style={{ margin: '16px 0' }}>\r\n              <Breadcrumb.Item>Home</Breadcrumb.Item>\r\n              <Breadcrumb.Item>List</Breadcrumb.Item>\r\n              <Breadcrumb.Item>App</Breadcrumb.Item>\r\n            </Breadcrumb>\r\n            <Content\r\n              style={{\r\n                background: '#fff',\r\n                padding: 24,\r\n                margin: 0,\r\n                minHeight: 280,\r\n              }}\r\n            >\r\n              {this.props.children}\r\n            </Content>\r\n          </Layout>\r\n        </Layout>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BasicLayout;","import * as React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport DefaultLayout from '../layouts/Basic';\r\n\r\nimport Cookies from 'universal-cookie';\r\n\r\n\r\nconst AppRoute = ({ layout: Layout = DefaultLayout, component: Component, store, permissions = [], ...rest } : any) => {\r\n\r\n  let {session} = store.getState();\r\n  // let granted = !permissions.length || session.jwt !== null;\r\n\r\n  let cookies = new Cookies();\r\n  let jwt = cookies.get('jwt');\r\n  console.log('jwtjwtjwt', jwt)\r\n  let granted = !permissions.length || (jwt && jwt.length);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        granted ? (\r\n          <Layout>\r\n            <Component {...props} />\r\n           </Layout>\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default AppRoute;","let prefix = 'LOGIN';\r\n\r\nexport const LOGIN  = `${prefix}/LOGIN`;\r\nexport const LOGOUT = `${prefix}/LOGOUT`;","import { createActionCreator } from 'deox'\r\n\r\nimport * as types from './types';\r\n\r\nexport const login \r\n            = createActionCreator(`${types.LOGIN}_START`, resolve => (username, password) => resolve({username, password}))\r\nexport const loginSuccess \r\n            = createActionCreator(`${types.LOGIN}_SUCCESS`, resolve => (payload) => resolve(payload))\r\nexport const loginError \r\n            = createActionCreator(`${types.LOGIN}_ERROR`, resolve => (payload) => resolve(payload))\r\n","import { connect } from 'react-redux';\r\nimport * as actions from './redux/actions'\r\nimport { bindActionCreators } from 'redux';\r\nimport {State} from '../../rootReducer';\r\n\r\nconst mapStateToProps = (state : State, ownProps: any) => ({\r\n  loggedIn: state.session.jwt != null\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: any) =>\r\n    bindActionCreators(actions, dispatch);\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n);","import { connect } from 'react-redux';\r\nimport * as userActions from '../../redux/actions'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport {State} from '../../../../rootReducer';\r\n\r\nconst mapStateToProps = (state : State, ownProps: any) => ({\r\n  loginPending: state.page.login.status === 'pending',\r\n  error: state.page.login.error\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: any) => bindActionCreators(userActions, dispatch);\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n);","import * as React from 'react';\r\nimport { Form, Icon, Input, Button, Checkbox, Alert, Typography } from 'antd';\r\nimport connect from './connect';\r\nimport './styles.css';\r\n\r\nclass NormalLoginForm extends React.Component<any> {\r\n  handleSubmit = (e: any) => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err: any, values: any) => {\r\n      if (!err) {\r\n        console.log('Received values of form: ', values);\r\n        let {username, password} = values;\r\n        this.props.login(username, password);\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const { error, loginPending} = this.props;\r\n    \r\n    return (\r\n      <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n        {error && <Alert message={<>{error.code && <Typography.Text code>{error.code}</Typography.Text>} {error.message}</>} type=\"error\" style={{ marginBottom: 24 }} showIcon/>}\r\n        <Form.Item>\r\n          {getFieldDecorator('username', {\r\n            rules: [{ required: true, message: 'ユーザー名を入力してください。' }],\r\n          })(\r\n            <Input\r\n              disabled={loginPending}\r\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              placeholder=\"ユーザー名\"\r\n            />,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator('password', {\r\n            rules: [{ required: true, message: 'パスワードを入力してください。' }],\r\n          })(\r\n            <Input.Password\r\n              disabled={loginPending}\r\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              type=\"password\"\r\n              placeholder=\"パスワード\"\r\n            />,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator('remember', {\r\n            valuePropName: 'checked',\r\n            initialValue: true,\r\n          })(<Checkbox disabled={loginPending}>ログイン状態を保持する</Checkbox>)}\r\n          {/* <a className=\"login-form-forgot\" href=\"\">\r\n            Forgot password\r\n          </a> */}\r\n          <Button loading={loginPending} type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n          ログイン\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst WrappedNormalLoginForm = Form.create({ name: 'normal_login' })(NormalLoginForm);\r\n\r\nexport default connect(WrappedNormalLoginForm);","import * as React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Row, Col } from 'antd';\r\nimport connect from './connect';\r\nimport LoginForm from './components/LoginForm';\r\n\r\nclass Login extends React.Component<any> {\r\n  \r\n  render() {\r\n    const { loggedIn } = this.props;\r\n    if(loggedIn) return <Redirect to=\"/\" />\r\n\r\n    return (\r\n      <Row>\r\n        <Col span={12} offset={6}>\r\n          <LoginForm />\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(Login);","const merge = require('deepmerge'); // https://github.com/webpack/webpack/issues/6584\r\n\r\nexport type Config = {\r\n  debug?: boolean,\r\n  apiBaseURL?: string\r\n}\r\n\r\nconst defaultConfigs : Config = {\r\n\r\n}\r\nconsole.log('process.env',process.env)\r\nexport default merge(defaultConfigs, require(`./${process.env.REACT_APP_NODE_ENV}`).default) as Config;\r\n\r\n","import axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport configs from '../configs';\n\nif(configs.debug) {\n  require('axios-debug-log');\n  localStorage.debug = \"axios\"\n}\n\nexport default axios.create({\n  baseURL: configs.apiBaseURL,\n  timeout: 60000,\n  headers: {'Authentication': new Cookies().get('jwt')}\n});","import http from './http';\nimport * as qs from 'qs';\n\n\nexport const fetch = async (filters: any) => {\n  console.log(filters)\n  const response = await http.get(`/license${qs.stringify(filters, {addQueryPrefix: true})}`);\n  return response.data.payload;\n}\n\nexport const generate = async (payload: any) => {\n    const response = await http.post('/license/generate', payload);\n    return response.data.payload;\n}\n\n\nexport const insert = async (payload: any) => {\n  const response = await http.post('/license', payload);\n  return response.data.payload;\n}","import http from './http';\n\nexport const login = async (username: any, password: any) => {\n  const response = await http.post('/login', {\n    email:username,\n    password\n  });\n  return response;\n}\n\nexport const search = async (keyword: any) => {\n  const response = await http.get('/user', {\n    params: {\n      keyword,\n      limit: 10,\n    }\n  });\n  return response.data.payload;\n}\n\nexport const checkEmail = async (email: any) => {\n  const response = await http.get('/user/check-email-exists', {\n    params: {\n      email,\n    }\n  });\n  return response.data.payload;\n}\n\n","import http from './http';\nimport * as qs from 'qs';\n\n\nexport const fetch = async (filters: any) => {\n  console.log(filters)\n  const response = await http.get(`/device${qs.stringify(filters, {addQueryPrefix: true})}`);\n  return response.data.payload;\n}","import * as license from './license';\nimport * as user from './user';\nimport * as device from './device';\n\nexport default {\n  license,\n  user,\n  device\n}","let prefix = 'LICENSE';\r\n\r\nexport const FETCH  = `${prefix}/FETCH`;\r\nexport const INSERT = `${prefix}/INSERT`;\r\nexport const UPDATE = `${prefix}/UPDATE`;\r\nexport const DELETE = `${prefix}/DELETE`;","import { createActionCreator } from \"deox\";\r\n\r\nimport * as types from \"./types\";\r\n\r\n/**\r\n * FETCH\r\n */\r\nexport const fetch = createActionCreator(\r\n  `${types.FETCH}_START`,\r\n  resolve => (username, password) =>\r\n    resolve({\r\n      username,\r\n      password\r\n    })\r\n);\r\n\r\nexport const fetchSuccess = createActionCreator(\r\n  `${types.FETCH}_SUCCESS`,\r\n  resolve => payload => resolve(payload)\r\n);\r\n\r\nexport const fetchError = createActionCreator(\r\n  `${types.FETCH}_ERROR`,\r\n  resolve => payload => resolve(payload)\r\n);\r\n\r\n\r\n\r\n\r\n/**\r\n * INSERT\r\n */\r\nexport const insert = createActionCreator(\r\n  `${types.INSERT}_START`,\r\n  resolve => (payload) =>\r\n    resolve(payload)\r\n);\r\n\r\nexport const insertSuccess = createActionCreator(\r\n  `${types.INSERT}_SUCCESS`,\r\n  resolve => payload => resolve(payload)\r\n);\r\n\r\nexport const insertError = createActionCreator(\r\n  `${types.INSERT}_ERROR`,\r\n  resolve => payload => resolve(payload)\r\n);\r\n","import { connect } from 'react-redux';\r\nimport * as actions from './redux/actions'\r\nimport { bindActionCreators } from 'redux';\r\nimport { State } from '../../rootReducer';\r\n\r\nconst mapStateToProps = (state : State, ownProps: any) => ({\r\n  fetch: state.page.license.fetch,\r\n  insert: state.page.license.insert \r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: any) =>\r\n    bindActionCreators(actions, dispatch);\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n);","import * as React from 'react'\r\nimport { Form, Radio, Button, Icon, DatePicker, Input } from 'antd';\r\nimport debounce from 'lodash/debounce';\r\n\r\nconst defaultState = {\r\n  name: undefined,\r\n  dateFrom: undefined,\r\n  dateTo: undefined,\r\n  type: undefined,\r\n  enabled: undefined\r\n};\r\n\r\nclass SearchForm extends React.Component<any, any> {\r\n  state = defaultState;\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.triggerFilterNow = debounce(this.triggerFilterNow, 500);\r\n  }\r\n\r\n  handleSearch = (e: any) => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err : any, values: any) => {\r\n      console.log('Received values of form: ', values);\r\n    });\r\n  };\r\n\r\n  handleFilterOnChangeName = (e: any) => {\r\n    const { value } = e.target;\r\n    this.setState({\r\n      name: value\r\n    }, this.triggerFilter)\r\n  }\r\n\r\n  handleFilterOnChangeDateFrom = (dateFrom: any) => {\r\n    this.setState({\r\n      dateFrom: dateFrom ? dateFrom.format('Y/MM/DD') : undefined\r\n    }, this.triggerFilter)\r\n  }\r\n\r\n  handleFilterOnChangeDateTo = (dateTo: any) => {\r\n    this.setState({\r\n      dateTo: dateTo ? dateTo.format('Y/MM/DD') : undefined\r\n    }, this.triggerFilter)\r\n  }\r\n\r\n  handleFilterOnChangeType = (e: any) => {\r\n    const { value } = e.target;\r\n    this.setState({\r\n      type: value\r\n    }, this.triggerFilter)\r\n  }\r\n\r\n  handleFilterOnChangeEnable = (e: any) => {\r\n    const { value } = e.target;\r\n    this.setState({\r\n      enabled: value\r\n    }, this.triggerFilter)\r\n  }\r\n\r\n  triggerFilter = () => {\r\n    this.props.onFilterChangePrepare();\r\n    this.triggerFilterNow();\r\n  }\r\n\r\n  triggerFilterNow = () => {\r\n    console.log('triggerFilterNow')\r\n    this.props.onFilterChange(this.state);\r\n  }\r\n\r\n  handleReset = () => {\r\n    this.props.form.resetFields(null, {triggerOnChange:true});\r\n    this.setState(defaultState, this.triggerFilter);\r\n  };\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const isDefaultFilter = JSON.stringify(defaultState) === JSON.stringify(this.state);\r\n    return (\r\n      <Form layout=\"inline\" className=\"ant-advanced-search-form\" onSubmit={this.handleSearch}>\r\n        <Form.Item>\r\n          {getFieldDecorator('customer')(<Input onChange={this.handleFilterOnChangeName} placeholder='お客様名' style={{width: 135}} suffix={<Icon type=\"edit\" style={{ color: 'rgba(0,0,0,.25)' }} />}/>)}\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          {getFieldDecorator('dateFrom')(<DatePicker onChange={this.handleFilterOnChangeDateFrom} placeholder='有効時間（終）' style={{ width: 135 }}/>)}\r\n        </Form.Item>\r\n        <Form.Item><span style={{ display: 'inline-block', textAlign: 'center' }}>～</span></Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator('dateTo')(<DatePicker onChange={this.handleFilterOnChangeDateTo} placeholder='有効時間（始）' style={{ width: 135 }}/>)}\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n        {getFieldDecorator('type', {\r\n          initialValue: undefined\r\n        })(\r\n          <Radio.Group onChange={this.handleFilterOnChangeType}>\r\n            <Radio.Button value={undefined}>全て</Radio.Button>\r\n            <Radio.Button value={1}>個人</Radio.Button>\r\n            <Radio.Button value={2}>法人</Radio.Button>\r\n          </Radio.Group>\r\n          )}\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n        {getFieldDecorator('enabled', {\r\n          initialValue: undefined\r\n        })(\r\n          <Radio.Group onChange={this.handleFilterOnChangeEnable}>\r\n            <Radio.Button value={undefined}>全て</Radio.Button>\r\n            <Radio.Button value={1}>有効</Radio.Button>\r\n            <Radio.Button value={0}>無効</Radio.Button>\r\n          </Radio.Group>\r\n          )}\r\n        </Form.Item>\r\n        {!isDefaultFilter && <Form.Item>\r\n          <Button type=\"link\" style={{ marginLeft: 8 }} onClick={this.handleReset}>\r\n              <Icon type=\"close-circle\"/> リセット\r\n          </Button>\r\n        </Form.Item>}\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form.create<any>({ name: 'advanced_search' })(SearchForm);","import * as React from 'react';\r\nimport { AutoComplete, Tooltip, Form, Input, InputNumber, Icon, DatePicker, Switch, Select, Typography, message, Button} from 'antd';\r\nimport debounce from 'lodash/debounce';\r\nimport api from '../../../services'\r\nimport './AddNewForm.css';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst AddNewForm = Form.create<any>({ name: 'form_in_modal' })(\r\n  // eslint-disable-next-line\r\n  class extends React.Component<any,any> {\r\n    form = React.createRef<any>();\r\n\r\n    state = {\r\n      newKeyPending: false,\r\n      customers: [] as any[],\r\n      customerId: undefined,\r\n      customerSearchPending: false,\r\n      customerEmailDataSource: [],\r\n      customerEmailValidateStatus: undefined,\r\n      customerEmailValidateError: undefined\r\n    };\r\n\r\n    constructor(props: any) {\r\n      super(props);\r\n      this.checkCustomerEmail = debounce(this.checkCustomerEmail, 800);\r\n    }\r\n\r\n    handleGenerateNewKey = () => {\r\n      this.setState({\r\n        newKeyPending: true\r\n      }, async () => {\r\n        try {\r\n          let newKey = await api.license.generate({});\r\n          this.setState({\r\n            newKeyPending: false,\r\n          }, () => {\r\n            // https://ant.design/components/form/#this.props.form.getFieldDecorator(id,-options)\r\n            // => You shouldn't call setState manually, please use this.props.form.setFieldsValue to change value programmatically.\r\n            this.props.form.setFieldsValue({\r\n              key: newKey\r\n            })\r\n          })\r\n        } catch(error) {\r\n          this.setState({\r\n            newKeyPending: false,\r\n          }, () => message.error(error.message))\r\n        }\r\n      })\r\n    };\r\n\r\n    handleLoadCustomer = (keyword: string) => {\r\n      this.setState({\r\n        customerSearchPending: true\r\n      }, async () => {\r\n        try {\r\n          let customers = await api.user.search(keyword);\r\n          this.setState({\r\n            customerSearchPending: false,\r\n            customers\r\n          });\r\n        } catch(error) {\r\n          this.setState({\r\n            customerSearchPending: false,\r\n          }, () => message.error(error.message))\r\n        }\r\n      })\r\n    }\r\n\r\n    handleCustomerChange = (customerId: number) => {\r\n      console.log(customerId)\r\n      this.setState({\r\n        customerId\r\n      })\r\n    }\r\n\r\n    handleChangeCustomerEmail = (value: any) => {\r\n      this.setState({\r\n        customerEmailDataSource:\r\n          !value || value.indexOf('@') >= 0\r\n            ? []\r\n            : [\r\n              `${value}@gmail.com`, \r\n              `${value}@yahoo.com`, \r\n              `${value}@hotmail.com`,\r\n              `${value}@outlook.com`,\r\n              `${value}@yahoo.co.jp`,\r\n            ],\r\n      }, ()=> {\r\n        if(value) {\r\n          this.checkCustomerEmail(value);\r\n        } else {\r\n          this.setState({\r\n            customerEmailValidateStatus: '',\r\n            customerEmailValidateError: ''\r\n          })\r\n        }\r\n      });\r\n    }\r\n\r\n    checkCustomerEmail = (email: string) => {\r\n      // customerEmailValidateStatus: value ? 'validating' : '',\r\n      \r\n      try {\r\n        this.setState({\r\n          customerEmailValidateStatus: 'validating',\r\n        }, async () => {\r\n          let exists = await api.user.checkEmail(email);\r\n          this.setState({\r\n            customerEmailValidateStatus: exists ? 'error' : 'success',\r\n            customerEmailValidateError: exists ? 'メールが存在します。' : ''\r\n          });\r\n        });\r\n      } catch(error) {\r\n        this.setState({\r\n          customerEmailValidateStatus: 'error',\r\n          customerEmailValidateError: error.message\r\n        }, () => message.error(error.message))\r\n      }\r\n    }\r\n\r\n    // componentWillUnmount() {\r\n    //   message.destroy();\r\n    // }\r\n\r\n    render() {\r\n      const { form } = this.props;\r\n      const { getFieldDecorator } = form;\r\n      const insertPending = this.props.insertPending as boolean;\r\n      const options = this.state.customers.map(d => \r\n        <Select.Option key={d.id}>\r\n        {d.name} - <Typography.Text type=\"secondary\">{d.email}</Typography.Text>\r\n        </Select.Option>\r\n      );\r\n      options.push(<Select.Option key={'null'}><Icon type=\"plus\" style={{marginRight: 5}}/>新規追加</Select.Option>);\r\n\r\n\r\n      return (\r\n        <Form layout=\"vertical\" ref={this.form}>\r\n          <Form.Item label=\"ライセンスキー\">\r\n            {getFieldDecorator('key', {\r\n              rules: [{ required: true, message: '入力してください。' }],\r\n            })(<Input\r\n              readOnly\r\n              disabled={insertPending} \r\n              placeholder=\"########-########-########-########\"\r\n              suffix={\r\n                <Tooltip title=\"新規ライセンスキーを生成する。\"><Button style={{padding:0, margin:0, display: 'inline'}} type='link' disabled={insertPending || this.state.newKeyPending} onClick={this.handleGenerateNewKey}><Icon type=\"sync\" spin={this.state.newKeyPending}/></Button></Tooltip>\r\n              }\r\n            />)}\r\n          </Form.Item>\r\n          <Form.Item label=\"有効時間\">\r\n            {getFieldDecorator('time', {\r\n              rules: [{ required: true, message: '入力してください。' }],\r\n            })(<RangePicker disabled={insertPending} style={{ width: '100%' }} />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"お客様\">\r\n            {getFieldDecorator('customerId', {\r\n              rules: [{ required: true, message: '入力してください。' }],\r\n            })(\r\n            // <Input disabled={insertPending} placeholder={'お客様名を入力してください。'} style={{ width: '100%' }} />\r\n            <Select\r\n              showSearch\r\n              allowClear\r\n              // value={this.state.value}\r\n              placeholder=\"お客様を選択してください。\"\r\n              style={this.props.style}\r\n              defaultActiveFirstOption={false}\r\n              filterOption={false}\r\n              onSearch={this.handleLoadCustomer}\r\n              onChange={this.handleCustomerChange}\r\n              notFoundContent={null}\r\n              loading={this.state.customerSearchPending}\r\n            >\r\n              {options}\r\n            </Select>\r\n            )}\r\n          </Form.Item>\r\n\r\n          {\r\n          this.state.customerId === 'null' &&\r\n          <Form.Item style={{padding: 10, background: '#ebebeb', borderRadius: 4}}>\r\n            <Form.Item label=\"お客様名\">\r\n              {getFieldDecorator('customerName', {\r\n                rules: [{ required: true, message: '入力してください。' }],\r\n              })(<Input\r\n                disabled={insertPending}\r\n                placeholder=\"例：太郎様\"\r\n                suffix={\r\n                  <Icon type=\"edit\" style={{ color: 'rgba(0, 0, 0, 0.25)' }}/>\r\n                }\r\n              />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"お客様のメールアドレス\"\r\n            hasFeedback\r\n            validateStatus={this.state.customerEmailValidateStatus}\r\n            help={this.state.customerEmailValidateError}\r\n            >\r\n              {getFieldDecorator('customerEmail', {\r\n                rules: [\r\n                  { required: true, message: '入力してください。' },\r\n                  { required: true, message: '入力してください。' },\r\n                ],\r\n              })(<AutoComplete\r\n                disabled={insertPending} \r\n                dataSource={this.state.customerEmailDataSource}\r\n                onChange={this.handleChangeCustomerEmail}\r\n                placeholder=\"例：tarokun@gmail.com\"\r\n              >\r\n              <Input suffix={this.state.customerEmailValidateStatus === null && <Icon type=\"edit\" style={{ color: 'rgba(0, 0, 0, 0.25)' }}/>} />\r\n              </AutoComplete>)}\r\n            </Form.Item>\r\n          </Form.Item>\r\n          }\r\n          <Form.Item style={{ marginBottom: 0 }}>\r\n            <Form.Item label=\"最大顧客数\" style={{ display: 'inline-block', width: '50%', marginBottom: 0 }}>\r\n              {getFieldDecorator('maxClient', {\r\n                initialValue: 1,\r\n                rules: [{ required: true, message: '入力してください。' }],\r\n              })(<InputNumber placeholder='最大顧客数' min={1} max={10000} />)}\r\n            </Form.Item>\r\n            {/* <div style={{float:'right'}}> */}\r\n            <Form.Item label=\"有効\" labelAlign=\"right\" className=\"patch-align-right\" \r\n            style={{ display: 'inline-block', width: '50%', textAlign: 'right', marginBottom: 0}}\r\n            >\r\n              {getFieldDecorator('type', {\r\n                initialValue: true,\r\n                // defaultChecked: true\r\n              })(\r\n                <Switch disabled={insertPending} defaultChecked/>,\r\n              )}\r\n            </Form.Item>\r\n            {/* </div> */}\r\n          </Form.Item>\r\n        </Form>\r\n      );\r\n    }\r\n  },\r\n);\r\n\r\nexport default AddNewForm;","import * as React from \"react\";\r\nimport update from 'immutability-helper';\r\nimport { Row, Col, Table, Tag, Button, List, Switch, message, Modal, Popconfirm, Skeleton, Pagination } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport api from '../../services'\r\nimport connect from './connect';\r\nimport SearchForm from './components/SearchForm';\r\nimport AddNewForm from './components/AddNewForm';\r\nimport './index.css';\r\n\r\nconst {CopyToClipboard} = require('react-copy-to-clipboard');\r\n\r\n\r\nclass License extends React.Component<any> {\r\n  state = { \r\n    modal: {\r\n      visible: false\r\n    },\r\n    table: {\r\n      meta: {\r\n        page: {\r\n          current: 1,\r\n          total: 0,\r\n          size: 5,\r\n        },\r\n        sort: {\r\n          column: undefined,\r\n          direction: undefined\r\n        },\r\n        filters: {}\r\n      },\r\n      data: [] as any[],\r\n      fetching: false,\r\n      expandedRowKeys: new Set<string>(),\r\n      fetchingRowKeys: new Set<string>(),\r\n      visibleRowKeys: new Set<string>(),\r\n    }\r\n  };\r\n\r\n  fetchTableData = async () => {\r\n    this.setState(update(this.state, {\r\n      table: {\r\n        fetching: { $set: true },\r\n        expandedRowKeys: { $set: new Set<string>() }\r\n      }\r\n    }), async () => {\r\n      let payload = await api.license.fetch({\r\n        ...this.state.table.meta\r\n      });\r\n      this.setState(update(this.state, {\r\n        table: {\r\n          meta: {\r\n            page: {\r\n              total: {\r\n                $set: payload.meta.total\r\n              }\r\n            }\r\n          },\r\n          data: { $set: payload.data },\r\n          fetching: { $set: false }\r\n        }\r\n      }));\r\n    });\r\n    \r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchTableData();\r\n  }\r\n\r\n  handleCopy = (record: any) => {\r\n\r\n  }\r\n  \r\n  meta = [\r\n    {\r\n      title: 'ライセンスキー',\r\n      dataIndex: 'key',\r\n      render: (text: any, record: any) => {\r\n        let visible = this.state.table.visibleRowKeys.has(record.key);\r\n        return (\r\n          <>\r\n            <span style={{minWidth:280, display: 'inline-block'}}>{visible?text:(('#'.repeat(8)+'-').repeat(3) + text.slice(-8))}</span>　\r\n            <Button style={{marginRight:5}} shape=\"circle\" size=\"small\" icon={!visible?'eye-invisible':'eye'} onClick={()=>this.handleToggleKeyVisible(record)}/>\r\n            <CopyToClipboard text={text} onCopy={()=>message.success('クリップボードにコピー。')}>\r\n              <Button shape=\"circle\" size=\"small\" icon=\"copy\" />\r\n            </CopyToClipboard>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '開始日',\r\n      dataIndex: 'created_at',\r\n      render: (text: any, record: any) => (\r\n        <>\r\n          {moment(text).format('Y/MM/DD')}\r\n        </>\r\n      ),\r\n    },\r\n    \r\n    {\r\n      title: '有効期限',\r\n      dataIndex: 'expire',\r\n      render: (text: any, record: any) => (\r\n        <>\r\n          {moment(text).format('Y/MM/DD')}\r\n        </>\r\n      ),\r\n    },\r\n    \r\n    {\r\n      title: 'お客様名',\r\n      dataIndex: 'name',\r\n      render: (text: any, record: any) => (\r\n        <>\r\n          <Tag color={record.type === 1 ? 'geekblue' : 'green'}>\r\n            {({1:'個人', 2:'法人'} as any)[record.type]}\r\n          </Tag>\r\n          {text}\r\n        </>\r\n      ),\r\n    },\r\n  \r\n    {\r\n      title: 'デバイス',\r\n      dataIndex: 'device_count',\r\n      render: (text: any, record: any) => \r\n      <>\r\n        {record.device_count} \r\n        件　\r\n        {record.device_count > 0 && <span className={`ant-table-row-expand-icon ant-table-row-${this.state.table.expandedRowKeys.has(record.key) ? 'expanded' : 'collapsed'}`} onClick={()=>this.handleExpand(record)}/> }\r\n      </>,\r\n    },\r\n  \r\n    {\r\n      title: '状態',\r\n      dataIndex: 'enabled',\r\n      render: (text: any, record: any) => (\r\n        <Popconfirm title=\"Are you sure？\" okText=\"Yes\" cancelText=\"No\" onConfirm={()=>{\r\n        }}>\r\n          <Switch size=\"small\" checked={record.enabled}/>\r\n        </Popconfirm>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  handleExpand = async (record: any) => {\r\n\r\n    let oldExpands = this.state.table.expandedRowKeys as Set<string>;\r\n    let collapsed = oldExpands.has(record.key);\r\n    collapsed \r\n      ? oldExpands.delete(record.key)\r\n      : oldExpands.add(record.key);\r\n\r\n    this.setState(update(this.state, {\r\n      table: {\r\n        expandedRowKeys: {\r\n          $set: oldExpands\r\n        }\r\n      }\r\n    }));\r\n\r\n    if(!collapsed && !record.devices) {\r\n      let data = await api.device.fetch({\r\n        license_key: record.key\r\n      });\r\n\r\n      // this.state.table.data.findIndex(v=>v.key===record.key);\r\n\r\n      let idx = this.state.table.data.findIndex(v=>v.key===record.key);\r\n      this.setState(update(this.state, {\r\n        table: {\r\n          data: {\r\n            [idx] : {\r\n              devices: {\r\n                $set: data\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleToggleKeyVisible = (record: any) => {\r\n    let oldVisibles = this.state.table.visibleRowKeys as Set<string>;\r\n    oldVisibles.has(record.key) \r\n      ? oldVisibles.delete(record.key)\r\n      : oldVisibles.add(record.key);\r\n\r\n    this.setState(update(this.state, {\r\n      table: {\r\n        visibleRowKeys: {\r\n          $set: oldVisibles\r\n        }\r\n      }\r\n    }));\r\n  }\r\n\r\n  showModal = () => {\r\n    this.setState(update(this.state, {\r\n      modal: {\r\n        visible: {\r\n          $set: true,\r\n        }\r\n      } \r\n    }));\r\n  };\r\n\r\n  hideModal = () => {\r\n    this.setState(update(this.state, {\r\n      modal: {\r\n        visible: {\r\n          $set: false,\r\n        }\r\n      } \r\n    }));\r\n  };\r\n\r\n  addNewForm = React.createRef<any>();\r\n  handleCreate = () => {\r\n    const form = this.addNewForm;\r\n    form.current.validateFields((err: any, values: any) => {\r\n      if (err) {\r\n        return;\r\n      }\r\n      if(values.customerId === 'null') {\r\n        values.customerId = null;\r\n      }\r\n      this.props.insert(values);\r\n    });\r\n  };\r\n\r\n  // saveFormRef = formRef => {\r\n  //   this.formRef = formRef;\r\n  // };\r\n\r\n  componentDidUpdate(prevProps: any) {\r\n    const form = this.addNewForm;\r\n    if(prevProps.insert.status === 'pending') {\r\n      if(this.props.insert.status === 'success') {\r\n        message.success('データを追加した。');\r\n        form.current.resetFields();\r\n        this.hideModal();\r\n      } else {\r\n        message.error('データの追加に失敗しました。');\r\n      }\r\n    }\r\n  };\r\n\r\n  handleTableChange = (pagination: any, filters: any, sorter: any) => {\r\n    // const { page, sort, filters } = this.state.table.meta;\r\n    this.setState(update(this.state, {\r\n      table: {\r\n        meta: {\r\n          page: {\r\n            $set: {\r\n              current: pagination.current,\r\n              size: pagination.pageSize,\r\n              total: pagination.total\r\n            }\r\n          },\r\n          sort: {\r\n            $set: sorter\r\n          },\r\n          filters: {\r\n            $set: filters\r\n          }\r\n        }\r\n      }\r\n    }))\r\n  //   this.setState({\r\n  //     query : {\r\n  //       paging: {\r\n  //         limit: pagination.pageSize,\r\n  //         page: pagination.current,\r\n  //         sort: (sorter.order === 'ascend' ? '' : '-') + sorter.field\r\n  //       },\r\n  //       filters,\r\n  //     }\r\n  //   }, this.fetchTableData);\r\n  };\r\n\r\n  handleOnFilterChangePrepare = () => {\r\n    this.setState(update(this.state, {\r\n      table: {\r\n        fetching: {\r\n          $set: true\r\n        }\r\n      }\r\n    }));\r\n  }\r\n\r\n  handleOnFilterChange = (filters: any) => {\r\n    this.setState(update(this.state, {\r\n      table: {\r\n        meta: {\r\n          filters: {\r\n            $set: filters\r\n          }\r\n        }\r\n      }\r\n    }), this.fetchTableData);\r\n  }\r\n\r\n  handleOnPageChange = (page: number, pageSize?: number) => {\r\n    console.log('page', page, pageSize)\r\n    this.setState(update(this.state, {\r\n      table: {\r\n        meta: {\r\n          page: {\r\n            current: {\r\n              $set: page\r\n            },\r\n            size: {\r\n              $set: pageSize || 0\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }), this.fetchTableData);\r\n  }\r\n\r\n  renderDevicesSkeleton = () => <Row style={{ width: '100%' }}>\r\n    <Col span={10}><Skeleton active={true} loading={true} title={false} paragraph={{rows:2, width: ['80%', '80%']}}/></Col>\r\n    <Col span={10}><Skeleton active={true} loading={true} title={false} paragraph={{rows:2, width: ['80%', '80%']}}/></Col>\r\n    <Col span={4}>\r\n      <div style={{float:'right', width: '80%'}}><Skeleton active={true} loading={true} title={false} paragraph={{rows:2, width: ['100%', '100%']}}/></div>\r\n    </Col>\r\n  </Row>\r\n\r\n  render() {\r\n    let insertPending = this.props.insert.status === 'pending';\r\n    let { table, modal } = this.state;\r\n    let rowKeys = Array.from(table.expandedRowKeys);\r\n    let {current, size: pageSize, total} = table.meta.page;\r\n    // console.log('table', table)\r\n    return (\r\n      <Row>\r\n        <Col span={24}>\r\n          <Row>\r\n            <Button icon='plus' onClick={this.showModal} type=\"primary\" style={{ marginBottom: 16, float: 'right' }}>\r\n            新規追加\r\n            </Button>\r\n            <SearchForm onFilterChangePrepare={this.handleOnFilterChangePrepare} onFilterChange={this.handleOnFilterChange}/>\r\n          </Row>\r\n          <div className=\"search-result-list\">\r\n            {\r\n            <Table \r\n              dataSource={table.data} \r\n              pagination={{\r\n                current, pageSize, total,\r\n                // hideOnSinglePage: true,\r\n                position: 'both',\r\n                showSizeChanger: true,\r\n                pageSizeOptions: ['5', '10', '20', '50', '100'],\r\n                // showQuickJumper: true,\r\n                style: { width: '100%', textAlign: 'right'},\r\n                showTotal: (total: number, range: [number, number]) => <div>総アイテム数：{total} (表示{range.join('〜')})</div>,\r\n                onChange: this.handleOnPageChange,\r\n                onShowSizeChange: this.handleOnPageChange,\r\n              }}\r\n              rowKey={record => record.key}\r\n              loading={table.fetching}\r\n              columns={this.meta}\r\n              onChange={this.handleTableChange}\r\n              expandedRowKeys={rowKeys}\r\n              expandIconAsCell={false}\r\n              expandIcon={()=><></>}\r\n              expandedRowRender={record => \r\n                (record.devices && record.devices.length) \r\n                ? <List\r\n                  size=\"small\"\r\n                  dataSource={record.devices}\r\n                  renderItem={(item : any, key) => (\r\n                    <List.Item key={key}>\r\n                      <Row style={{width:'100%'}}>\r\n                        <Col span={10}>{key + 1}.&nbsp;{item.info}</Col>\r\n                        <Col span={10}>{item.id}</Col>\r\n                        <Col span={4}>\r\n                          <span style={{float:'right'}}>\r\n                            {moment(item.created_at).format('Y/MM/DD')}\r\n                            に活性化\r\n                          </span>\r\n                        </Col>\r\n                        </Row>\r\n                      </List.Item>\r\n                    )}\r\n                />\r\n                : this.renderDevicesSkeleton()\r\n               }\r\n            />}\r\n          </div>\r\n        </Col>\r\n\r\n        <Modal\r\n          visible={modal.visible}\r\n          title=\"新規ライセンスキーを追加\"\r\n          okText=\"追加\"\r\n          onCancel={this.hideModal}\r\n          onOk={this.handleCreate}\r\n          confirmLoading={insertPending}\r\n          cancelButtonProps={{disabled:insertPending}}\r\n          closable={!insertPending}\r\n          maskClosable={!insertPending}\r\n        >\r\n          <AddNewForm\r\n            ref={this.addNewForm}\r\n            insertPending={this.props.insert.status === 'pending'}\r\n          />\r\n        </Modal>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(License);","import * as React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport './index.less';\n\nclass NotFound extends React.Component<any> {\n  state = { user: '0' };\n\n  handleOnClick = () => {\n    this.props.login('aaa', 'bbb');\n  }\n  render() {\n    return (\n      <div>\n        <div className=\"imgBlock\">\n        <img src=\"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg\" alt=\"img\"/>\n        </div>\n        <div className=\"content\">\n          <h1>404</h1>\n          <div className=\"desc\">Page not found</div>\n          <div>\n            <Link to='/'>Back to home</Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NotFound;","import * as React from \"react\";\r\n\r\ninterface Props {\r\n}\r\n\r\nclass MinimalLayout extends React.Component<Props> {\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.children}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MinimalLayout;","import { createReducer } from 'deox'\r\nimport * as actions from './actions';\r\nimport update from 'immutability-helper';\r\n\r\nconst { \r\n  login,\r\n  loginSuccess,\r\n  loginError\r\n} = actions;\r\n\r\nexport type State = {\r\n  status?: string,\r\n  error?: {\r\n    code: string,\r\n    message: string,\r\n  }\r\n}\r\n\r\nconst defaultState: State = {\r\n  status: undefined,\r\n  error: undefined\r\n}\r\n\r\nexport default createReducer(defaultState, (handleAction) => [\r\n  handleAction(login, (state, action : any) => update(state, {\r\n    status: { $set: 'pending'},\r\n    error: { $set: undefined}\r\n  })),\r\n  handleAction(loginSuccess, (state, action : any) => update(state, {\r\n    status: { $set: 'success'},\r\n    error: { $set: undefined}\r\n  })),\r\n  handleAction(loginError, (state, action : any) => update(state, {\r\n    status: { $set: 'error'},\r\n    error: { $set: action.payload }\r\n  })),\r\n]);","import { createReducer } from 'deox';\r\nimport * as actions from './actions';\r\nimport update from 'immutability-helper';\r\n\r\nconst { \r\n  fetch,\r\n  fetchSuccess,\r\n  fetchError,\r\n  insert,\r\n  insertSuccess,\r\n  insertError,\r\n} = actions;\r\n\r\nexport type State = {\r\n  fetch?: {\r\n    status?: string,\r\n    error?: {\r\n      code: string,\r\n      message: string\r\n    }\r\n  },\r\n  insert?: {\r\n    status?: string,\r\n    error?: {\r\n      code: string,\r\n      message: string\r\n    }\r\n  }\r\n}\r\n\r\nconst defaultState: State = {\r\n  fetch: {\r\n    status: undefined,\r\n  },\r\n  insert: {\r\n    status: undefined,\r\n  }\r\n}\r\n\r\nexport default createReducer(defaultState, (handleAction) => [\r\n  handleAction(fetch, (state, action : any) => update(state, {\r\n    fetch: {\r\n      status: { $set: 'pending'}\r\n    }\r\n  })),\r\n\r\n  handleAction(fetchSuccess, (state, action : any) => update(state, {\r\n    fetch: {\r\n      status: { $set: 'success'}\r\n    }\r\n  })),\r\n  handleAction(fetchError, (state, action : any) => update(state, {\r\n    fetch: {\r\n      status: { $set: 'error' },\r\n      error: { $set: action.payload }\r\n    }\r\n  })),\r\n\r\n\r\n  handleAction(insert, (state, action : any) => update(state, {\r\n    insert: {\r\n      status: { $set: 'pending'}\r\n    }\r\n  })),\r\n\r\n  handleAction(insertSuccess, (state, action : any) => update(state, {\r\n    insert: {\r\n      status: { $set: 'success'}\r\n    }\r\n  })),\r\n  handleAction(insertError, (state, action : any) => update(state, {\r\n    insert: {\r\n      status: { $set: 'error' },\r\n      error: { $set: action.payload }\r\n    }\r\n  })),\r\n]);","import {combineReducers} from 'redux';\r\nimport { createReducer } from 'deox'\r\nimport {loginSuccess} from './pages/Login/redux/actions'\r\n\r\nimport login, {State as LoginState} from './pages/Login/redux/reducers'\r\nimport license, {State as LicenseState} from './pages/License/redux/reducers'\r\nimport Cookies from 'universal-cookie';\r\n\r\n\r\nexport type SessionState = {\r\n    jwt?: string,\r\n    email?: string,\r\n    userDisplayName?: string\r\n}\r\nexport type State = {\r\n  session: SessionState,\r\n  page: {\r\n    login: LoginState,\r\n    license: LicenseState\r\n  }\r\n}\r\n\r\nconst sessionDefaultState : SessionState = {\r\n  jwt: undefined,\r\n  email: undefined,\r\n  userDisplayName: undefined\r\n}\r\n\r\nconst sessionReducer = createReducer(sessionDefaultState, (handleAction) => [\r\n  handleAction(loginSuccess, (state, { payload } : any) => {\r\n    let cookies = new Cookies();\r\n    cookies.set('jwt', payload.jwt, { path: '/' , httpOnly: true, });\r\n    return ({\r\n      jwt: payload.jwt,\r\n      email: payload.email,\r\n      userDisplayName: payload.userDisplayName\r\n    })\r\n}),\r\n]);\r\n\r\nexport default combineReducers({\r\n  session: sessionReducer,\r\n  page: combineReducers({\r\n    login,\r\n    license,\r\n  }),\r\n})","import * as types from './types';\n\nimport api from '../../../services';\nimport { loginSuccess, loginError } from './actions';\n\nexport default {\n  [`${types.LOGIN}_START`]: {\n    api: (params: any) => api.user.login(params.username, params.password),\n    success: (payload: any) => loginSuccess(payload),\n    error: (error: any) => loginError(error)\n  }\n}","import * as types from './types';\r\n\r\nimport api from '../../../services';\r\nimport * as actions from './actions';\r\n\r\nexport default {\r\n  [`${types.FETCH}_START`]: {\r\n    api: (params: any) => api.license.fetch(params),\r\n    success: (payload: any) => actions.fetchSuccess(payload),\r\n    error: (error: any) => actions.fetchError(error)\r\n  },\r\n\r\n  [`${types.INSERT}_START`]: {\r\n    api: (params: any) => api.license.insert(params),\r\n    success: (payload: any) => actions.fetchSuccess(payload),\r\n    error: (error: any) => actions.fetchError(error)\r\n  },\r\n}","import { of, from } from 'rxjs';\nimport { map, mergeMap, catchError } from \"rxjs/operators\";\nimport { ofType } from \"redux-observable\";\n\nexport const loadEpics = (loadedEpic: any) => {\n  let actionTypes = Object.keys(loadedEpic.default);\n  return actionTypes.map(actionType => (action$: any) => action$.pipe(\n    ofType(actionType),\n    mergeMap((action : any) => from(loadedEpic.default[actionType].api(action.payload)).pipe(\n      // map(response => {console.log(response); return response}),\n      \n      map((response : any) => {\n        let json = response.data;\n        if(json.success) {\n          // console.log('SUCCESS', json.payload)\n          return loadedEpic.default[actionType].success(json.payload)\n        } else {\n          // console.log('ERROR', json.error)\n          throw json.error;\n        }\n      }),\n      catchError((error) => {\n        // console.log('___ERROR', error)\n        return of(loadedEpic.default[actionType].error(error));\n      }),\n    ),\n    )\n  ));\n}\n\n\n\n\n\n\n\n\n\n// export const loadEpics = (loadedEpic) => {\n//   let actionTypes = Object.keys(loadedEpic.default);\n//   return actionTypes.map(actionType => action$ => action$.pipe(\n//     ofType(actionType),\n//     mergeMap((action : any) => from(loadedEpic.default[actionType].api(action.payload).then(response => {\n//       console.log('response', response)\n//       let json = response.data;\n//       if(json.success) {\n//         console.log('SUCCESS', json.payload)\n//         return of(loadedEpic.default[actionType].success(json.payload))\n//       } else {\n//         console.log('ERROR', json.error)\n//         // return loadedEpic.default[actionType].error(json.error)\n//         throw json.error;\n//       }\n//     }).catch(error => {\n//       return loadedEpic.default[actionType].error(error);\n//     }))\n//   )))\n// };\n    ","import { combineEpics } from \"redux-observable\";\r\nimport * as loginEpics from './pages/Login/redux/epics';\r\nimport * as licenseEpics from './pages/License/redux/epics';\r\nimport * as epicUtil from './utils/epicUtils';\r\n\r\nexport default combineEpics(\r\n  ...epicUtil.loadEpics(loginEpics), \r\n  ...epicUtil.loadEpics(licenseEpics),\r\n); \r\n","// https://redux.js.org/faq/organizing-state\r\n\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport { createEpicMiddleware } from \"redux-observable\";\r\n\r\nimport logger from 'redux-logger'\r\nimport rootReducer from './rootReducer';\r\nimport rootEpic from './rootEpic';\r\nimport configs from './configs';\r\n\r\nconst epicMiddleware = createEpicMiddleware();\r\nconst store = createStore(\r\n  rootReducer, \r\n  applyMiddleware(...[\r\n    epicMiddleware,\r\n    configs.debug && logger\r\n  ].filter(v=>v) as any[])\r\n);\r\nepicMiddleware.run(rootEpic);\r\n\r\nexport default store;\r\n","import * as React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { LocaleProvider } from 'antd';\r\nimport jaJP from 'antd/lib/locale-provider/ja_JP';\r\nimport { BrowserRouter as Router, Switch } from \"react-router-dom\";\r\n\r\nimport Route from './components/Route';\r\nimport LoginPage from './pages/Login';\r\nimport LicensePage from './pages/License';\r\nimport NotFoundPage from './pages/404';\r\nimport MinimalLayout from './layouts/Minimal';\r\nimport store from \"./store\";\r\n\r\n// Need Remove In production\r\n// https://ant.design/docs/react/use-with-create-react-app#Import-on-demand\r\nimport 'antd/dist/antd.css';\r\n\r\n\r\nimport './index.less';\r\n\r\n\r\n\r\nclass App extends React.Component<any> {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <LocaleProvider locale={jaJP}>\r\n          <Router>\r\n            <Switch>\r\n              <Route path=\"/\" exact component={LicensePage} store={store} permissions={['license.manager']} />\r\n              <Route path=\"/login\" exact component={LoginPage} layout={MinimalLayout} store={store} />\r\n              <Route component={NotFoundPage} store={store} layout={MinimalLayout}/>\r\n            </Switch>\r\n          </Router>\r\n        </LocaleProvider>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import 'dotenv';\nimport * as React from \"react\";\nimport { render } from \"react-dom\";\nimport App from './app';\n\nrender(\n  <App/>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}