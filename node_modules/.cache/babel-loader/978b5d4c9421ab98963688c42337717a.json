{"ast":null,"code":"import _objectWithoutProperties from \"D:\\\\ppp\\\\react-base\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"D:\\\\ppp\\\\react-base\\\\src\\\\app\\\\components\\\\Route.tsx\";\nimport * as React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport DefaultLayout from '../layouts/Basic';\n\nvar AppRoute = function AppRoute(_ref) {\n  var _ref$layout = _ref.layout,\n      Layout = _ref$layout === void 0 ? DefaultLayout : _ref$layout,\n      Component = _ref.component,\n      store = _ref.store,\n      _ref$permissions = _ref.permissions,\n      permissions = _ref$permissions === void 0 ? [] : _ref$permissions,\n      rest = _objectWithoutProperties(_ref, [\"layout\", \"component\", \"store\", \"permissions\"]);\n\n  var _store$getState = store.getState(),\n      session = _store$getState.session;\n\n  var granted = !permissions.length || session.jwt !== null;\n  return React.createElement(Route, Object.assign({}, rest, {\n    render: function render(props) {\n      return granted ? React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, React.createElement(Component, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }))) : React.createElement(Redirect, {\n        to: {\n          pathname: \"/login\",\n          state: {\n            from: props.location\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }));\n};\n\nexport default AppRoute;","map":{"version":3,"sources":["D:\\ppp\\react-base\\src\\app\\components\\Route.tsx"],"names":["React","Route","Redirect","DefaultLayout","AppRoute","layout","Layout","Component","component","store","permissions","rest","getState","session","granted","length","jwt","props","pathname","state","from","location"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AAEA,OAAOC,aAAP,MAA0B,kBAA1B;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAAsG;AAAA,yBAAnGC,MAAmG;AAAA,MAA3FC,MAA2F,4BAAlFH,aAAkF;AAAA,MAAxDI,SAAwD,QAAnEC,SAAmE;AAAA,MAA7CC,KAA6C,QAA7CA,KAA6C;AAAA,8BAAtCC,WAAsC;AAAA,MAAtCA,WAAsC,iCAAxB,EAAwB;AAAA,MAAjBC,IAAiB;;AAAA,wBAErGF,KAAK,CAACG,QAAN,EAFqG;AAAA,MAEhHC,OAFgH,mBAEhHA,OAFgH;;AAGrH,MAAIC,OAAO,GAAG,CAACJ,WAAW,CAACK,MAAb,IAAuBF,OAAO,CAACG,GAAR,KAAgB,IAArD;AAEA,SACE,oBAAC,KAAD,oBACML,IADN;AAEE,IAAA,MAAM,EAAE,gBAAAM,KAAK;AAAA,aACXH,OAAO,GACL,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD,oBAAeG,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,CADK,GAKL,oBAAC,QAAD;AACE,QAAA,EAAE,EAAE;AACFC,UAAAA,QAAQ,EAAE,QADR;AAEFC,UAAAA,KAAK,EAAE;AAAEC,YAAAA,IAAI,EAAEH,KAAK,CAACI;AAAd;AAFL,SADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANS;AAAA,KAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF;AAmBD,CAxBD;;AA0BA,eAAejB,QAAf","sourcesContent":["import * as React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport DefaultLayout from '../layouts/Basic';\r\n\r\nconst AppRoute = ({ layout: Layout = DefaultLayout, component: Component, store, permissions = [], ...rest } : any) => {\r\n\r\n  let {session} = store.getState();\r\n  let granted = !permissions.length || session.jwt !== null;\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        granted ? (\r\n          <Layout>\r\n            <Component {...props} />\r\n           </Layout>\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default AppRoute;"]},"metadata":{},"sourceType":"module"}